(this.webpackJsonpquantum=this.webpackJsonpquantum||[]).push([[0],{27:function(t,e,n){},89:function(t,e){},90:function(t,e,n){"use strict";n.r(e);var s=n(8),r=n(32),i=n.n(r),o=n(13),a=n(17),c=n(18),l=n(20),p=n(19),u=(n(27),n(25)),h=n(34),b=(n(71),n(7)),j=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;switch(this.props.type){case"cnot":return Object(b.jsxs)("div",Object(o.a)(Object(o.a)({className:this.props.onDelete?"gate cnot noselect deletable":"gate cnot noselect"},this.props),{},{ref:this.props.innerRef,onDoubleClick:function(e){t.props.onDelete&&t.props.onDelete(t.props.qubit,t.props.index,!0)},children:["CNOT",Object(b.jsx)("span",{className:this.props.options.showGateMatrix?"gate-tooltip":"hidden",children:Object(b.jsx)(h.BlockMath,{math:"\\begin{bmatrix}1&0&0&0\\\\ 0&1&0&0\\\\ 0&0&0&1\\\\ 0&0&1&0\\end{bmatrix}"})})]}));case"cnotUp":return Object(b.jsxs)("div",Object(o.a)(Object(o.a)({className:this.props.onDelete?"gate cnot x noselect deletable":"gate cnot x noselect"},this.props),{},{ref:this.props.innerRef,onDoubleClick:function(e){t.props.onDelete&&t.props.onDelete(t.props.qubit,t.props.index,!0)},children:["X",Object(b.jsx)("span",{className:this.props.options.showGateMatrix?"gate-tooltip":"hidden",children:Object(b.jsx)(h.BlockMath,{math:"\\begin{bmatrix}0&1\\\\ 1&0\\end{bmatrix}"})}),Object(b.jsx)("span",{className:"cnotUp"})]}));case"cnotDown":return Object(b.jsxs)("div",Object(o.a)(Object(o.a)({className:this.props.onDelete?"gate cnot x noselect deletable":"gate cnot x noselect"},this.props),{},{ref:this.props.innerRef,onDoubleClick:function(e){t.props.onDelete&&t.props.onDelete(t.props.qubit,t.props.index,!0)},children:["X",Object(b.jsx)("span",{className:this.props.options.showGateMatrix?"gate-tooltip":"hidden",children:Object(b.jsx)(h.BlockMath,{math:"\\begin{bmatrix}0&1\\\\ 1&0\\end{bmatrix}"})}),Object(b.jsx)("span",{className:"cnotDown"})]}));case"h":return Object(b.jsxs)("div",Object(o.a)(Object(o.a)({className:this.props.onDelete?"gate h noselect deletable":"gate h noselect"},this.props),{},{ref:this.props.innerRef,onDoubleClick:function(e){t.props.onDelete&&t.props.onDelete(t.props.qubit,t.props.index,!1)},children:["H",Object(b.jsx)("span",{className:this.props.options.showGateMatrix?"gate-tooltip":"hidden",children:Object(b.jsx)(h.BlockMath,{math:"\\frac1{\\sqrt2}\\begin{bmatrix}1&1\\\\ 1&-1\\end{bmatrix}"})})]}));case"t":return Object(b.jsxs)("div",Object(o.a)(Object(o.a)({className:this.props.onDelete?"gate t noselect deletable":"gate t noselect"},this.props),{},{ref:this.props.innerRef,onDoubleClick:function(e){t.props.onDelete&&t.props.onDelete(t.props.qubit,t.props.index,!1)},children:["T",Object(b.jsx)("span",{className:this.props.options.showGateMatrix?"gate-tooltip":"hidden",children:Object(b.jsx)(h.BlockMath,{math:"\\begin{bmatrix}1&0\\\\ 0&e^{i\\pi /4}\\end{bmatrix}"})})]}));case"trigopt":return Object(b.jsx)("div",Object(o.a)(Object(o.a)({className:"gate trigopt noselect"},this.props),{},{ref:this.props.innerRef,children:Object(b.jsx)("div",{onClick:function(e){return t.props.onSelectTrigger(t.props.qubit,t.props.index)}})}));case"trig":return Object(b.jsx)("div",Object(o.a)(Object(o.a)({className:"gate trig noselect"},this.props),{},{ref:this.props.innerRef,children:Object(b.jsx)("div",{})}));case"connect":return Object(b.jsx)("div",Object(o.a)(Object(o.a)({className:"gate connect noselect"},this.props),{},{ref:this.props.innerRef,children:Object(b.jsx)("div",{})}));default:return null}}}]),n}(s.Component),d=n(93),O=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{className:"qubit",children:[Object(b.jsx)("span",{className:"qubit-line"}),Object(b.jsx)("span",{children:Object(b.jsxs)("strong",{children:["q",Object(b.jsx)("sub",{children:this.props.number})]})}),Object(b.jsx)("span",{style:{marginLeft:"10px",marginRight:"20px"},children:"|0\u27e9"}),this.props.gates.map((function(e,n){return"h"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"h",qubit:t.props.number,index:n,options:t.props.options,onDelete:t.props.onDeleteGate})},Object(d.a)()):"cnot"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"cnot",qubit:t.props.number,index:n,options:t.props.options,onDelete:t.props.onDeleteGate})},Object(d.a)()):"cnotUp"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"cnotUp",qubit:t.props.number,index:n,options:t.props.options,onDelete:t.props.onDeleteGate})},Object(d.a)()):"cnotDown"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"cnotDown",qubit:t.props.number,index:n,options:t.props.options,onDelete:t.props.onDeleteGate})},Object(d.a)()):"t"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"t",qubit:t.props.number,index:n,options:t.props.options,onDelete:t.props.onDeleteGate})},Object(d.a)()):"trig"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"trig",options:t.props.options,onDelete:t.props.onDeleteGate})},Object(d.a)()):"connect"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"connect",options:t.props.options,onDelete:t.props.onDeleteGate})},Object(d.a)()):"trigopt"===e?Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(j,{type:"trigopt",qubit:t.props.number,index:n,options:t.props.options,onSelectTrigger:t.props.onSelectTrigger})},Object(d.a)()):Object(b.jsx)("span",{className:"gate-wrapper",children:Object(b.jsx)(u.c,{droppableId:"q"+t.props.number+","+n,direction:"horizontal",children:function(e){return Object(s.createElement)("span",Object(o.a)(Object(o.a)({},e.droppableProps),{},{ref:e.innerRef,key:Object(d.a)(),className:t.props.options.showGateDrop?"gate-drop show":"gate-drop"}))}})},Object(d.a)())}))]})}}]),n}(s.Component),x=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{className:"circuit-wrapper",children:[Object(b.jsx)("div",{className:"circuit",children:this.props.circuit.map((function(e,n){return Object(b.jsx)(O,{number:n,options:t.props.options,gates:e,onSelectTrigger:t.props.onSelectTrigger,onDeleteGate:t.props.onDeleteGate},n)}))}),Object(b.jsx)("button",{className:"button",onClick:function(){return t.props.onAddQubit()},children:"Add qubit"}),Object(b.jsx)("button",{className:"button",onClick:function(){return t.props.onRemoveQubit()},children:"Remove qubit"}),Object(b.jsx)("button",{className:"button",onClick:function(){return t.props.onClearCircuit()},children:"Reset circuit"})]})}}]),n}(s.Component),g=n(47),f=n.n(g),v=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{style:{display:"fixed",height:"50px"},children:Object(b.jsxs)("div",{className:"toolbar",children:["Spring 2021 IQC Quantum Computer Simulator",Object(b.jsx)("div",{style:{position:"absolute",right:"40px",top:"0"},children:Object(b.jsx)(f.a,{ticking:!0,format:"HH:mm:ss",timezone:"Etc/UTC"})}),Object(b.jsx)("div",{style:{position:"absolute",right:"25px",top:"0"},children:"Z"})]})})}}]),n}(s.Component),m=n(37),w=n.n(m),D=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{className:"sidebar",children:[Object(b.jsx)("h1",{children:"Instructions:"}),Object(b.jsx)("hr",{}),"Drag and drop gates on qubit register lines to form a circuit.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"To connect CNOT trigger lines, click on one of the connection points that appear after adding a CNOT gate.",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"To delete a gate, double click on it.",Object(b.jsx)("h1",{children:"Debug:"}),Object(b.jsx)("hr",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"Display Gate Drop Locations:"}),Object(b.jsx)(w.a,{onChange:function(e){return t.props.onSetOption("showGateDrop",e)},checked:this.props.options.showGateDrop,offColor:"#b02e2e",className:"react-switch"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"Display Gate Matrices:"}),Object(b.jsx)(w.a,{onChange:function(e){return t.props.onSetOption("showGateMatrix",e)},checked:this.props.options.showGateMatrix,offColor:"#b02e2e",className:"react-switch"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"Display Statevector:"}),Object(b.jsx)(w.a,{onChange:function(e){return t.props.onSetOption("showStatevector",e)},checked:this.props.options.showStatevector,offColor:"#b02e2e",className:"react-switch"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"Random seed:"}),Object(b.jsx)("input",{className:"input",value:this.props.options.randomSeed,onChange:function(e){return t.props.onSetOption("setSeed",e)}})]})}}]),n}(s.Component),k=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsx)("div",{className:"gate-menu",children:Object(b.jsx)(u.c,{droppableId:Object(d.a)(),direction:"horizontal",children:function(e,n){return Object(b.jsxs)("div",Object(o.a)(Object(o.a)({},e.droppableProps),{},{ref:e.innerRef,children:[Object(b.jsx)("span",{className:"\r gate-wrapper",children:Object(b.jsx)(u.b,{draggableId:"cnot",index:0,children:function(e){return Object(b.jsx)(j,Object(o.a)(Object(o.a)(Object(o.a)({},e.draggableProps),e.dragHandleProps),{},{innerRef:e.innerRef,type:"cnot",options:t.props.options}))}},1)}),Object(b.jsx)("span",{className:"\r gate-wrapper",children:Object(b.jsx)(u.b,{draggableId:"h",index:0,children:function(e){return Object(b.jsx)(j,Object(o.a)(Object(o.a)(Object(o.a)({},e.draggableProps),e.dragHandleProps),{},{innerRef:e.innerRef,type:"h",options:t.props.options}))}},2)}),Object(b.jsx)("span",{className:"\r gate-wrapper",children:Object(b.jsx)(u.b,{draggableId:"t",index:0,children:function(e){return Object(b.jsx)(j,Object(o.a)(Object(o.a)(Object(o.a)({},e.draggableProps),e.dragHandleProps),{},{innerRef:e.innerRef,type:"t",options:t.props.options}))}},3)})]}))}},Object(d.a)())})}}]),n}(s.Component),N=n(92),y=n(2),C=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).state={stateVector:[]},s}return Object(c.a)(n,[{key:"redistribute",value:function(t,e){return{a:N.a("1/sqrt(2)*("+t+"+"+e+")"),b:N.a("1/sqrt(2)*("+t+"-"+e+")")}}},{key:"phaseTransition",value:function(t){return N.a("e^(i*pi/4)*"+t)}},{key:"swap",value:function(t,e){return{a:e,b:t}}},{key:"evalHGate",value:function(t,e){for(var n=this.props.circuit.length,s=0;s<Math.pow(2,t);s++)for(var r=0;r<Math.pow(2,n-t-1);r++){var i=r+s*Math.pow(2,n-t),o=r+s*Math.pow(2,n-t)+Math.pow(2,n-t-1),a=this.redistribute(e[i],e[o]);return e[i]=a.a,e[o]=a.b,e}}},{key:"evalTGate",value:function(t,e){for(var n=this.props.circuit.length,s=0;s<Math.pow(2,t);s++)for(var r=0;r<Math.pow(2,n-t-1);r++){var i=r+s*Math.pow(2,n-t)+Math.pow(2,n-t-1),o=this.phaseTransition(e[i]);return e[i]=o,e}}},{key:"evalCNOTGate",value:function(t,e,n){for(var s=this.props.circuit.length,r=Math.min(t,e),i=Math.max(t,e),o=0;o<Math.pow(2,r);o++)for(var a=0;a<Math.pow(2,i-r-1);a++)for(var c=0;c<Math.pow(2,s-i-1);c++){var l=o*Math.pow(2,s-r)+a*Math.pow(2,s-i)+c+Math.pow(2,s-t-1),p=o*Math.pow(2,s-r)+a*Math.pow(2,s-i)+c+Math.pow(2,s-t-1)+Math.pow(2,s-e-1),u=this.swap(n[l],n[p]);n[l]=u.a,n[p]=u.b}return n}},{key:"evaluateCircuit",value:function(){console.log(this.props.circuit);var t=this.props.circuit.length,e=[];e.push(1);for(var n=1;n<Math.pow(2,t);n++)e.push(0);for(n=0;n<this.props.circuit[0].length;n++)for(var s,r=!1,i=0;i<this.props.circuit.length;i++)switch(this.props.circuit[i][n]){case"h":e=this.evalHGate(i,e);break;case"t":e=this.evalTGate(i,e);break;case"trig":if(r)break;for(r=!0,s=i+1;s<this.props.circuit.length;s++)if("cnotUp"===this.props.circuit[s][n]||"cnotDown"===this.props.circuit[s][n]){e=this.evalCNOTGate(i,s,e);break}break;case"cnotUp":if(r)break;for(r=!0,s=i+1;s<this.props.circuit.length;s++)if("trig"===this.props.circuit[s][n]){e=this.evalCNOTGate(s,i,e);break}break;case"cnotDown":if(r)break;for(r=!0,s=i+1;s<this.props.circuit.length;s++)if("trig"===this.props.circuit[s][n]){e=this.evalCNOTGate(s,i,e);break}}console.log(e),this.setState({stateVector:e})}},{key:"componentDidMount",value:function(){this.evaluateCircuit()}},{key:"componentDidUpdate",value:function(t,e){t.circuit!==this.props.circuit&&this.evaluateCircuit()}},{key:"render",value:function(){for(var t=[],e=0;e<this.props.circuit.length;e++)t.push(Object(b.jsxs)("strong",{children:["q",Object(b.jsx)("sub",{children:e})]},e));var n=[];for(e=0;e<Math.pow(2,this.props.circuit.length);e++)n.push(Object(b.jsx)("div",{children:(e>>>0).toString(2).padStart(this.props.circuit.length,"0").split("").join(" ")+": "+(void 0!==this.state.stateVector[e]?y.me(this.state.stateVector[e],3):"???")},e));var s=[];for(e=0;e<Math.pow(2,this.props.circuit.length);e++){var r;if(void 0!==this.state.stateVector[e]){var i=Math.pow(y.de(this.state.stateVector[e]),2),o=Math.pow(y.Dc(this.state.stateVector[e]),2);r=y.me(i+o,3)}else r="???";s.push(Object(b.jsx)("div",{children:(e>>>0).toString(2).padStart(this.props.circuit.length,"0").split("").join(" ")+": "+(void 0!==this.state.stateVector[e]?r:"???")},e))}return Object(b.jsxs)("div",{className:"measure",children:[Object(b.jsxs)("div",{className:this.props.options.showStatevector?"":"hidden",children:[Object(b.jsx)("h4",{children:"Statevector:"}),Object(b.jsx)("div",{children:t}),n]}),Object(b.jsxs)("div",{className:this.props.options.showStatevector?"hidden":"",children:[Object(b.jsx)("h4",{children:"Probability:"}),Object(b.jsx)("div",{children:t}),s]})]})}}]),n}(s.Component),S=function(t){Object(l.a)(n,t);var e=Object(p.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).state={options:{showGateDrop:!1,showGateMatrix:!1,showStatevector:!0,randomSeed:"2021"},circuit:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]]},s}return Object(c.a)(n,[{key:"onDragEnd",value:function(t){if(t.destination&&"q"===t.destination.droppableId.charAt(0)){var e=this.state.circuit,n=parseInt(t.destination.droppableId.charAt(1)),s=parseInt(t.destination.droppableId.substring(3));if("cnot"===t.draggableId)for(var r=0;r<e.length;r++)if(r!==n&&("cnot"===e[r][s]||"cnotUp"===e[r][s]||"cnotDown"===e[r][s]))return void alert("Error: Only one CNOT allowed per column");if(e[n][s]=t.draggableId,"cnot"===t.draggableId){for(r=n+1;r<e.length&&null===e[r][s];r++)e[r][s]="trigopt";for(r=n-1;r>=0&&null===e[r][s];r--)e[r][s]="trigopt"}this.setState({circuit:e})}}},{key:"onSetOption",value:function(t,e){switch(t){case"showGateDrop":this.setState((function(t){return{options:Object(o.a)(Object(o.a)({},t.options),{},{showGateDrop:e})}}));break;case"showGateMatrix":this.setState((function(t){return{options:Object(o.a)(Object(o.a)({},t.options),{},{showGateMatrix:e})}}));break;case"showStatevector":this.setState((function(t){return{options:Object(o.a)(Object(o.a)({},t.options),{},{showStatevector:e})}}));break;case"setSeed":console.log(e.target.value),this.setState((function(t){return{options:Object(o.a)(Object(o.a)({},t.options),{},{randomSeed:e.target.value})}}));break;default:return}}},{key:"onSelectTrigger",value:function(t,e){for(var n=this.state.circuit,s=!1,r=0;r<n.length;r++)r===t&&(s=!s),"cnot"!==n[r][e]?"trigopt"===n[r][e]&&(n[r][e]=s?"connect":null):(n[r][e]=s?"cnotUp":"cnotDown",s=!s);n[t][e]="trig",this.setState({circuit:n})}},{key:"onDeleteGate",value:function(t,e,n){var s=this.state.circuit;if(s[t][e]=null,n)for(var r=0;r<s.length;r++)"trig"!==s[r][e]&&"connect"!==s[r][e]&&"trigopt"!==s[r][e]||(s[r][e]=null);this.setState({circuit:s})}},{key:"onClearCircuit",value:function(){this.setState({circuit:[[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]]})}},{key:"onAddQubit",value:function(){var t=this.state.circuit;t.length<10&&t.push([null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),this.setState({circuit:t})}},{key:"onRemoveQubit",value:function(){var t=this.state.circuit;t.length>1&&t.pop(),this.setState({circuit:t})}},{key:"render",value:function(){var t=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(D,{options:this.state.options,onSetOption:this.onSetOption.bind(this)}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(u.a,{onDragEnd:function(e){return t.onDragEnd(e)},children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"New Program >"}),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"Gates:"}),Object(b.jsx)(k,{options:this.state.options}),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"Circuit:"}),Object(b.jsx)(x,{options:this.state.options,circuit:this.state.circuit,onSelectTrigger:this.onSelectTrigger.bind(this),onDeleteGate:this.onDeleteGate.bind(this),onClearCircuit:this.onClearCircuit.bind(this),onAddQubit:this.onAddQubit.bind(this),onRemoveQubit:this.onRemoveQubit.bind(this)}),Object(b.jsx)("hr",{}),Object(b.jsx)("h3",{children:"Measurement:"}),Object(b.jsx)(C,{circuit:[].concat(this.state.circuit),options:this.state.options})]})})})]})}}]),n}(s.Component);i.a.render(Object(b.jsx)(S,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.ca7aa455.chunk.js.map